name: github CI workflow
on: [push]

jobs:
  say-hello: 
    runs-on: ubuntu-latest
    steps:
      - name: Say Hello
        #run: echo "Hello, GitHub Actions!"
        #run: echo "Running tests on OS $({ runner.os })"
        #run: echo "Repository ${{ github.repository }}"
        run: echo "Branch ${{ github.ref }}"
      - name: Checkout code
        uses: actions/checkout@v6
      - name: Install pixi
        uses: prefix-dev/setup-pixi@v0.9.3
        with:
          pixi-version: v0.63.0
      - name: Run tests
        run: pixi run pytest
  code-check:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v6
      - name: Install pixi
        uses: prefix-dev/setup-pixi@v0.9.3
        with:
          pixi-version: v0.63.0
      - name: Run code ruff check
        run: pixi run ruff check .